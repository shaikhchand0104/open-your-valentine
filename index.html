<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Open Your Valentine üíù</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#ff4d6d" />
  <meta name="description" content="A little surprise for you, Muskan. Will you be my Valentine? üíò" />
  <meta property="og:title" content="Open Your Valentine üíù">
  <meta property="og:description" content="A little surprise for you, Muskan. Will you be my Valentine? üíò">
  <meta property="og:type" content="website">
  <meta property="og:image" content="images/photo1.jpg">
  <meta name="twitter:card" content="summary_large_image">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="assets/favicon.png" />

  <style>
    :root {
      --pink: #ff4d6d;
      --hot: #ff2d55;
      --rose: #ff8fab;
      --bg1: #1b1525;
      --bg2: #2a183e;
      --gold: #ffd166;
      --white: #fff;
      --soft: rgba(255,255,255,.08);
      --glass: rgba(255,255,255,.14);
    }
    * { box-sizing: border-box }
    html, body {
      margin: 0;
      padding: 0;
      font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color: var(--white);
      background: radial-gradient(1200px 800px at 20% 10%, #391a4b 0, #180f26 60%, #0e0a17 100%);
      min-height: 100%;
      overflow-x: hidden;
    }
    a { color: inherit }
    .container { width: min(1000px, 92vw); margin: 0 auto; padding: 24px; }
    .card {
      background: linear-gradient(180deg, var(--soft), transparent);
      border: 1px solid var(--glass);
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.05);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      padding: clamp(20px, 4vw, 36px);
    }
    .center { display: grid; place-items: center; text-align: center; min-height: 85vh; position: relative; overflow: hidden; }
    h1 { font-weight: 800; line-height: 1.08; letter-spacing: -0.02em; margin: 0 0 12px; font-size: clamp(28px, 3.6vw, 48px); }
    h2 { font-weight: 700; margin: 10px 0 6px; font-size: clamp(20px, 2.6vw, 32px); }
    p.lead { opacity: .9; font-weight: 300; margin: 0 0 24px; }

    .btn { display: inline-flex; align-items: center; justify-content: center; gap: .6rem; padding: 14px 22px; border-radius: 999px; background: linear-gradient(135deg, var(--pink), var(--hot)); color: #fff; border: 0; cursor: pointer; text-decoration: none; font-weight: 700; letter-spacing: .2px; box-shadow: 0 10px 24px rgba(255,77,109,.35); transition: transform .15s ease, box-shadow .15s ease, opacity .2s ease; }
    .btn:hover { transform: translateY(-2px); box-shadow: 0 14px 30px rgba(255,77,109,.45) }
    .btn.secondary { background: rgba(255,255,255,.1); border: 1px solid rgba(255,255,255,.18); box-shadow: none; font-weight: 600; }
    .btn.ghost { background: transparent; border: 1px dashed rgba(255,255,255,.25) }

    /* Floating hearts background */
    .hearts { position: absolute; inset: 0; overflow: hidden; pointer-events: none; }
    .hearts span { position: absolute; color: #ff6b9a; opacity: .8; font-size: 14px; animation: floatUp linear forwards; filter: drop-shadow(0 2px 6px rgba(255,77,109,.55)); }
    @keyframes floatUp {
      0% { transform: translateY(0) scale(.9) rotate(0deg); opacity: .0 }
      10% { opacity: .9 }
      100% { transform: translateY(-120vh) scale(1.4) rotate(20deg); opacity: 0 }
    }

    /* Sections */
    section { display: none; }
    section.active { display: block; }

    /* Proposal layout */
    .proposal { min-height: 82vh; display: grid; place-items: center; position: relative; }
    .proposal .askbox { position: relative; width: min(720px, 92vw); padding: clamp(20px, 4vw, 36px); }
    .question { font-size: clamp(22px, 3.2vw, 38px); font-weight: 800; letter-spacing: -0.015em; margin-bottom: 22px; text-shadow: 0 8px 28px rgba(255,77,109,.25); }
    .choices { position: relative; display: inline-flex; flex-wrap: wrap; gap: 14px; min-height: 52px; }
    .no-btn { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); transition: transform .08s ease; z-index: 5; }

    /* Gallery */
    .gallery-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 14px; margin-top: 16px; }
    .photo { position: relative; aspect-ratio: 4/5; border-radius: 16px; overflow: hidden; background: linear-gradient(135deg, #ff8fab33, #ffd6e083); border: 1px solid rgba(255,255,255,.15); }
    .photo img { width: 100%; height: 100%; object-fit: cover; display: block; transition: transform .5s ease; filter: saturate(1.1) contrast(1.05); }
    .photo:hover img { transform: scale(1.06) }
    .badge { position: absolute; left: 10px; top: 10px; background: rgba(0,0,0,.35); border: 1px solid rgba(255,255,255,.25); color: #fff; padding: 6px 10px; font-size: 12px; border-radius: 999px; backdrop-filter: blur(6px); }

    .hidden { display: none !important }

    /* Shayari modal */
    .modal { position: fixed; inset: 0; display: grid; place-items: center; background: rgba(0,0,0,.55); z-index: 50; padding: 16px; opacity: 0; pointer-events: none; transition: opacity .2s ease; }
    .modal.show { opacity: 1; pointer-events: auto }
    .modal .sheet { width: min(760px, 94vw); border-radius: 18px; padding: 22px; background: radial-gradient(200% 140% at 20% 0%, #3a1b52 0, #1d1232 50%, #150d26 100%); border: 1px solid rgba(255,255,255,.16); box-shadow: 0 30px 60px rgba(0,0,0,.5), inset 0 1px 0 rgba(255,255,255,.08); }
    .type { min-height: 150px; white-space: pre-line; font-size: clamp(18px, 2.2vw, 22px); line-height: 1.6; }
    .final { font-size: clamp(22px, 2.8vw, 34px); text-align: center; margin-top: 16px; font-weight: 800; color: var(--gold); text-shadow: 0 8px 30px rgba(255, 209, 102, .35); }

    /* Top ribbon */
    .ribbon { display: flex; align-items: center; justify-content: space-between; gap: 12px; padding: 10px 14px; border-radius: 12px; background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02)); border: 1px solid rgba(255,255,255,.15); font-size: 14px; margin-bottom: 14px; }
    .tag { display: inline-flex; gap: 8px; align-items: center; padding: 6px 10px; border-radius: 999px; font-weight: 600; background: rgba(255,255,255,.08); border: 1px solid rgba(255,255,255,.16); }
    .small { font-size: 12px; opacity: .85 }

    footer { opacity: .7; font-size: 12px; text-align: center; padding: 30px 0 40px }

    .fade-in { animation: fade .35s ease both }
    @keyframes fade { from { opacity: 0; transform: translateY(8px)} to {opacity: 1; transform: none} }

    @media (max-width: 520px) { .choices { width: 100% } .no-btn { position: fixed; } }
  </style>
</head>
<body>
  <div class="hearts" id="hearts"></div>

  <div class="container">
    <div class="ribbon">
      <span class="tag">üíå Open Your Valentine</span>
      <span class="small">Made with ‚ù§Ô∏è for <b>Muskan</b></span>
    </div>

    <!-- Landing -->
    <section id="landing" class="center active">
      <div class="card fade-in">
        <h1>Hey Muskan, there‚Äôs a tiny surprise for you‚Ä¶</h1>
        <p class="lead"> My Loveüåπ</p>
        <button class="btn" id="openBtn">üíñ Open Your Valentine</button>
      </div>
    </section>

    <!-- Proposal -->
    <section id="proposal" class="proposal">
      <div class="card askbox fade-in" id="askbox">
        <div class="question">Muskan, will you be my Valentine? ü•∞</div>
        <div class="choices" id="choices">
          <button class="btn" id="yesBtn">Yes üíû</button>
          <button class="btn secondary no-btn" id="noBtn" title="You can't catch me üòú">No üòú</button>
        </div>
        <p class="small" style="margin-top: 14px; opacity:.85"></p>
      </div>
    </section>

    <!-- Gallery / Romantic Dashboard -->
    <section id="gallery">
      <div class="card fade-in">
        <h2>For my Valentine üíò</h2>
        <p class="lead">Some of our favorite moments‚Ä¶ (add your photos in <code>images/</code> folder)</p>

        <div class="gallery-grid">
          <figure class="photo">
            <img src="images/photo1.jpg" alt="Photo 1" onerror="fallback(this,0)"/>
            <figcaption class="badge">01</figcaption>
          </figure>
          <figure class="photo">
            <img src="images/photo2.jpg" alt="Photo 2" onerror="fallback(this,1)"/>
            <figcaption class="badge">02</figcaption>
          </figure>
          <figure class="photo">
            <img src="images/photo3.jpg" alt="Photo 3" onerror="fallback(this,2)"/>
            <figcaption class="badge">03</figcaption>
          </figure>
          <figure class="photo">
            <img src="images/photo4.jpg" alt="Photo 4" onerror="fallback(this,3)"/>
            <figcaption class="badge">04</figcaption>
          </figure>
          <figure class="photo">
            <img src="images/photo5.jpg" alt="Photo 5" onerror="fallback(this,4)"/>
            <figcaption class="badge">05</figcaption>
          </figure>
          <figure class="photo">
            <img src="images/photo6.jpg" alt="Photo 6" onerror="fallback(this,5)"/>
            <figcaption class="badge">06</figcaption>
          </figure>
        </div>

        <div style="margin-top:18px; display:flex; gap:10px; align-items:center;">
          <button id="shayariBtn" class="btn ghost hidden">‚ú® Read the Romantic Shayari</button>
          <span id="timerHint" class="small">Shayari unlocks in <b><span id="timer">10</span>s</b>‚Ä¶</span>
        </div>
      </div>
    </section>

    <!-- Shayari Modal + Final message -->
    <div id="modal" class="modal">
      <div class="sheet">
        <h2>üåô Romantic Shayari for You</h2>
        <div id="typebox" class="type"></div>
        <div style="display:flex; gap:10px; margin-top:14px;">
          <button id="finishBtn" class="btn hidden">Continue üí´</button>
          <button id="closeBtn" class="btn secondary">Close</button>
        </div>
        <div id="finalMsg" class="final hidden">YAH best disscssion ever, I love you too, my love üíõ</div>
      </div>
    </div>

    <footer>¬© With love ‚Äî Chand üíó</footer>
  </div>

  <script>
    // Section switching
    const landing = document.getElementById('landing');
    const proposal = document.getElementById('proposal');
    const gallery  = document.getElementById('gallery');
    const openBtn  = document.getElementById('openBtn');
    const yesBtn   = document.getElementById('yesBtn');
    const noBtn    = document.getElementById('noBtn');
    const askbox   = document.getElementById('askbox');

    const shayariBtn = document.getElementById('shayariBtn');
    const timerHint  = document.getElementById('timerHint');
    const timerEl    = document.getElementById('timer');

    const modal   = document.getElementById('modal');
    const typebox = document.getElementById('typebox');
    const closeBtn= document.getElementById('closeBtn');
    const finishBtn = document.getElementById('finishBtn');
    const finalMsg  = document.getElementById('finalMsg');

    function show(section) {
      [landing, proposal, gallery].forEach(s => s.classList.remove('active'));
      section.classList.add('active');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Hearts background
    const hearts = document.getElementById('hearts');
    const emojis = ["üíñ","üíò","üíù","üíó","üíì","üíû","üíï","üåπ"];
    function spawnHeart() {
      const span = document.createElement('span');
      span.textContent = emojis[Math.floor(Math.random()*emojis.length)];
      span.style.left = Math.random()*100 + 'vw';
      span.style.bottom = '-40px';
      const dur = 6 + Math.random()*6;
      const size = 14 + Math.random()*18;
      span.style.fontSize = size + 'px';
      span.style.animationDuration = dur + 's';
      hearts.appendChild(span);
      setTimeout(()=> span.remove(), dur*1000);
    }
    setInterval(spawnHeart, 400);

    // Landing -> Proposal
    openBtn.addEventListener('click', () => show(proposal));

    // No button runs away
    function moveNo(ev) {
      const rect = askbox.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();
      const pad = 10;
      const maxLeft = Math.max(pad, rect.width - btnRect.width - pad);
      const maxTop  = Math.max(pad, rect.height - btnRect.height - pad);
      const newLeft = Math.max(pad, Math.random() * maxLeft);
      const newTop  = Math.max(pad, Math.random() * maxTop);
      noBtn.style.left = newLeft + 'px';
      noBtn.style.top  = newTop + 'px';
    }
    noBtn.addEventListener('mouseenter', moveNo);
    noBtn.addEventListener('click', (e) => { e.preventDefault(); moveNo(e); });

    // Yes -> Gallery + start 30s unlock
    let unlockTimerId;
    yesBtn.addEventListener('click', () => {
      show(gallery);
      startUnlockTimer(30);
      celebrate();
      history.replaceState(null, '', '#open-your-valentine');
    });

    function celebrate() {
      for (let i=0; i<40; i++) {
        setTimeout(spawnHeart, i*60);
      }
    }

    function startUnlockTimer(seconds) {
      clearInterval(unlockTimerId);
      let t = seconds;
      timerEl.textContent = t;
      shayariBtn.classList.add('hidden');
      timerHint.classList.remove('hidden');
      unlockTimerId = setInterval(() => {
        t--;
        timerEl.textContent = t;
        if (t <= 0) {
          clearInterval(unlockTimerId);
          timerHint.classList.add('hidden');
          shayariBtn.classList.remove('hidden');
          shayariBtn.classList.add('fade-in');
        }
      }, 1000);
    }

    // Shayari typing
    const lines = [
      "‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡•Ä ‡§π‡§Å‡§∏‡•Ä ‡§Æ‡•á‡§Ç ‡§Æ‡•á‡§∞‡§æ ‡§∏‡§µ‡•á‡§∞‡§æ ‡§π‡•à,",
      "‡§§‡•á‡§∞‡•Ä ‡§Ü‡§Å‡§ñ‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§Æ‡•á‡§∞‡§æ ‡§¨‡§∏‡•á‡§∞‡§æ ‡§π‡•à‡•§",
      "‡§ß‡§°‡§º‡§ï‡§®‡•ã‡§Ç ‡§®‡•á ‡§ú‡•ã ‡§∞‡§æ‡•õ ‡§ï‡§π‡§æ ‡§ö‡•Å‡§™‡§ï‡•á ‡§∏‡•á,",
      "‡§µ‡•ã ‡§¨‡§∏ ‡§á‡§§‡§®‡§æ ‡§ï‡§ø ‡§§‡•Å‡§Æ ‡§π‡•Ä ‡§Æ‡•á‡§∞‡§æ ‡§∏‡§π‡§∞‡§æ ‡§π‡•ã‡•§",
      "‡§π‡§∞ ‡§¶‡•Å‡§Ü ‡§Æ‡•á‡§Ç ‡§¨‡§∏ ‡§§‡•Å‡§Æ, ‡§π‡§∞ ‡§ñ‡•ç‡§µ‡§æ‡§π‡§ø‡§∂ ‡§Æ‡•á‡§Ç ‡§¨‡§∏ ‡§§‡•Å‡§Æ,",
      "‡§ï‡•ç‡§Ø‡§æ ‡§§‡•Å‡§Æ ‡§¨‡§®‡•ã‡§ó‡•Ä ‡§Æ‡•á‡§∞‡•Ä Valentine, ‡§Æ‡•Å‡§∏‡•ç‡§ï‡§æ‡§®-‡§è-‡§∞‡•Ç‡§π? üíñ"
    ];

    let typing = false;
    function typeShayari() {
      if (typing) return;
      typing = true;
      typebox.textContent = "";
      finalMsg.classList.add('hidden');
      finishBtn.classList.add('hidden');

      let i = 0, j = 0;
      const typeSpeed = 40; // ms per char
      function typeLine() {
        if (i >= lines.length) {
          finishBtn.classList.remove('hidden');
          typing = false;
          return;
        }
        const current = lines[i];
        if (j <= current.length) {
          typebox.textContent = lines.slice(0,i).join("\n") + (i>0? "\n":"") + current.slice(0, j);
          j++;
          setTimeout(typeLine, typeSpeed);
        } else {
          i++; j = 0;
          setTimeout(typeLine, 350);
        }
      }
      typeLine();
    }

    shayariBtn.addEventListener('click', () => {
      modal.classList.add('show');
      typeShayari();
    });

    closeBtn.addEventListener('click', () => { modal.classList.remove('show'); });

    finishBtn.addEventListener('click', () => {
      finalMsg.classList.remove('hidden');
      celebrate();
    });

    // Image fallback if file missing
    function fallback(imgEl, idx) {
      const canvas = document.createElement('canvas');
      canvas.width = 600; canvas.height = 750;
      const ctx = canvas.getContext('2d');
      const g = ctx.createLinearGradient(0,0,600,750);
      g.addColorStop(0, '#ff8fab');
      g.addColorStop(1, '#ffd6e0');
      ctx.fillStyle = g;
      ctx.fillRect(0,0,600,750);
      ctx.font = '120px serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      const arr = ['üíñ','üåπ','üíû','üíò','üíï','üíù'];
      ctx.fillText(arr[idx%arr.length], 300, 320);
      ctx.font = '36px Poppins, sans-serif';
      ctx.fillStyle = 'rgba(0,0,0,.55)';
      ctx.fillText('Add your photo here', 300, 460);
      imgEl.src = canvas.toDataURL('image/png');
    }
    window.fallback = fallback;
  </script>
</body>
</html>
